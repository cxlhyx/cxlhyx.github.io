document.getElementById("runSpider").addEventListener("click",(function(){const e=document.getElementById("papers").value;if(""===e.trim())return void alert("Please enter at least one paper!");const t=new URLSearchParams;t.append("papers",e);const n=document.getElementById("runSpider");n.disabled=!0,n.textContent="Processing...",n.style.backgroundColor="#ff9800",fetch("http://127.0.0.1:5000/spider",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t}).then((e=>e.json())).then((e=>{"success"===e.status?alert(`Spider Success: ${e.message}`):alert(`Spider Error: ${e.message}`)})).catch((e=>{alert(`Failed to run spider. ${e}`)})).finally((()=>{document.getElementById("downloadZip").style.display="inline",n.disabled=!1,n.textContent="Run",n.style.backgroundColor="#4CAF50"}))})),document.getElementById("fileInput").addEventListener("change",(function(e){const t=e.target.files[0];if(t){const e=new FileReader;e.onload=function(e){const t=e.target.result;document.getElementById("papers").value=t},e.readAsText(t)}else alert("No file selected.")})),document.getElementById("downloadZip").addEventListener("click",(function(){fetch("http://127.0.0.1:5000/compress",{method:"GET"}).then((e=>e.json())).then((e=>{"success"===e.status?alert(e.message):alert("Compress Error: "+e.message)})).catch((e=>{alert(`Compress Error: ${e}`)}));var e=document.createElement("a");e.href="/output.zip",e.download="output.zip",e.click(),document.getElementById("downloadZip").style.display="none"}));